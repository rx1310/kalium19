@use '../../configs' as *;
@use '../@invalid-value-message' as *;
@use '../utilities/is-exist' as *;

/// –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∂–∏–º –Ω–∞–ª–æ–∂–µ–Ω–∏—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
/// –Ω–∞ —Ñ–æ–Ω–æ–≤—ã–π —Ü–≤–µ—Ç –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–æ–Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
/// ---
/// @name background-blend-mode
/// @access public
/// @since 6.0.0
/// @author Haba Kudzaev (rx1310)
/// @link https://rx1310.github.io/kalium19
/// @example scss - –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Sass (SCSS)
/// 	.example {
/// 		@include background-blend-mode(multiply)
/// 	}
/// @example css - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ CSS
/// 	.example {
/// 	  background-blend-mode: multiply;
/// 	}
/// @param {String} $mode [$dvalue-background-blend-mode] - –∑–Ω–∞—á–µ–Ω–∏–µ CSS-—Å–≤–æ–π—Å—Ç–≤–∞ `background-blend-mode`.
@mixin background-blend-mode($mode: $dvalue-background-blend-mode) {

	// –° –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ `is-exisit()` –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
	// `$mode` –≤ —Å–ø–∏—Å–∫–µ `$dvalue-background-blend-mode`:
	@if is-exist($vvalue-background-blend-mode, $mode) {

		// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Safari 9:
		@if is-exist($vvalue-background-blend-mode_safari9, $mode) {

			$_safari9-unsupported-message: 'üüß Safari –¥–æ –≤–µ—Ä—Å–∏–∏ 10 –∏ iOS Safari –¥–æ –≤–µ—Ä—Å–∏–∏ 10.3 –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è `hue`, `saturation`, `color` –∏ `luminosity`!';

			@if $notify-background-blend-mode-safari9 == true {
				@if $strict-mode == error {
					@error $_safari9-unsupported-message;
				} @else if $strict-mode == warn {
					@warn $_safari9-unsupported-message;
				} @else {
					/* #{$_safari9-unsupported-message} */
				}
			}

		}

		background-blend-mode: #{$mode};

	}

	// –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `$mode` –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ø–∏—Å–∫–µ
	// `$dvalue-background-blend-mode`, —Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —ç—Ç–æ–º:
	@else {
		@include invalid-value-message(
			$mode,
			background-blend-mode,
			$vvalue-background-blend-mode
		);
	}

}
